{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/alarc/OneDrive/Escritorio/ProjectMovil/TellevoApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _class;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@ionic/angular\";\nimport * as i3 from \"@angular/forms\";\nclass RestablecerpassPage {\n  constructor(router, activatedRouter, alertController) {\n    this.router = router;\n    this.activatedRouter = activatedRouter;\n    this.alertController = alertController;\n    this.mensaje = \"\";\n    this.alertButtons = ['OK'];\n    this.user = {\n      usuario: \"\",\n      password: \"\"\n    };\n    this.nuevapass = {\n      correo: \"\",\n      nueva: \"\"\n    };\n  }\n  ngOnInit() {\n    this.activatedRouter.queryParams.subscribe(() => {\n      let state = this.router.getCurrentNavigation()?.extras.state;\n      if (state) {\n        this.user.usuario = state['user'].usuario;\n        this.user.password = state['user'].password;\n        console.log(this.user);\n      }\n    });\n  }\n  restablecer() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      if (_this.user.password != _this.nuevapass.nueva) {\n        _this.user.password = _this.nuevapass.nueva;\n        const alert = yield _this.alertController.create({\n          header: 'Contraseña restablecida.',\n          message: 'Su contraseña ha sido restablecida.',\n          buttons: ['Aceptar']\n        });\n        yield alert.present();\n        _this.router.navigate(['home']);\n      } else {\n        const alert = yield _this.alertController.create({\n          header: 'Error.',\n          message: 'Su nueva contraseña no puede ser igual a la anterior.',\n          buttons: ['Aceptar']\n        });\n        yield alert.present();\n      }\n    })();\n  }\n}\n_class = RestablecerpassPage;\n_class.ɵfac = function RestablecerpassPage_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.AlertController));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-restablecerpass\"]],\n  decls: 11,\n  vars: 4,\n  consts: [[3, \"translucent\"], [3, \"fullscreen\"], [\"label\", \"Correo\", \"labelPlacement\", \"floating\", \"placeholder\", \"Ingrese su Correo\", 1, \"input\", 3, \"ngModel\", \"ngModelChange\"], [\"label\", \"Contrase\\u00F1a\", \"type\", \"password\", \"labelPlacement\", \"floating\", \"placeholder\", \"Ingrese su nueva Contrase\\u00F1a\", 3, \"ngModel\", \"ngModelChange\"], [3, \"click\"]],\n  template: function RestablecerpassPage_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\", 0);\n      i0.ɵɵelement(1, \"ion-back-button\");\n      i0.ɵɵelementStart(2, \"ion-toolbar\")(3, \"ion-title\");\n      i0.ɵɵtext(4, \"restablecerpass\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(5, \"ion-content\", 1)(6, \"ion-card\")(7, \"ion-input\", 2);\n      i0.ɵɵlistener(\"ngModelChange\", function RestablecerpassPage_Template_ion_input_ngModelChange_7_listener($event) {\n        return ctx.nuevapass.correo = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"ion-input\", 3);\n      i0.ɵɵlistener(\"ngModelChange\", function RestablecerpassPage_Template_ion_input_ngModelChange_8_listener($event) {\n        return ctx.nuevapass.nueva = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"ion-button\", 4);\n      i0.ɵɵlistener(\"click\", function RestablecerpassPage_Template_ion_button_click_9_listener() {\n        return ctx.restablecer();\n      });\n      i0.ɵɵtext(10, \"Confirmar\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"translucent\", true);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"fullscreen\", true);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.nuevapass.correo);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.nuevapass.nueva);\n    }\n  },\n  dependencies: [i3.NgControlStatus, i3.NgModel, i2.IonBackButton, i2.IonButton, i2.IonCard, i2.IonContent, i2.IonHeader, i2.IonInput, i2.IonTitle, i2.IonToolbar, i2.TextValueAccessor, i2.IonBackButtonDelegate],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport { RestablecerpassPage };","map":{"version":3,"names":["RestablecerpassPage","constructor","router","activatedRouter","alertController","mensaje","alertButtons","user","usuario","password","nuevapass","correo","nueva","ngOnInit","queryParams","subscribe","state","getCurrentNavigation","extras","console","log","restablecer","_this","_asyncToGenerator","alert","create","header","message","buttons","present","navigate","i0","ɵɵdirectiveInject","i1","Router","ActivatedRoute","i2","AlertController","selectors","decls","vars","consts","template","RestablecerpassPage_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵlistener","RestablecerpassPage_Template_ion_input_ngModelChange_7_listener","$event","RestablecerpassPage_Template_ion_input_ngModelChange_8_listener","RestablecerpassPage_Template_ion_button_click_9_listener","ɵɵproperty","ɵɵadvance"],"sources":["C:\\Users\\alarc\\OneDrive\\Escritorio\\ProjectMovil\\TellevoApp\\src\\app\\restablecerpass\\restablecerpass.page.ts","C:\\Users\\alarc\\OneDrive\\Escritorio\\ProjectMovil\\TellevoApp\\src\\app\\restablecerpass\\restablecerpass.page.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Router, NavigationExtras, ActivatedRoute } from '@angular/router';\r\nimport { AlertController } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-restablecerpass',\r\n  templateUrl: './restablecerpass.page.html',\r\n  styleUrls: ['./restablecerpass.page.scss'],\r\n})\r\nexport class RestablecerpassPage implements OnInit {\r\n\r\n  constructor(private router: Router, private activatedRouter: ActivatedRoute, public alertController: AlertController) { \r\n\r\n  }\r\n\r\n  public mensaje = \"\";\r\n\r\n  public alertButtons = ['OK'];\r\n  public user = {\r\n    usuario: \"\",\r\n    password: \"\"\r\n  }\r\n\r\n  public nuevapass = {\r\n    correo: \"\",\r\n    nueva: \"\"\r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n    this.activatedRouter.queryParams.subscribe(()=>{\r\n\r\n      let state = this.router.getCurrentNavigation()?.extras.state;\r\n      if(state){\r\n        this.user.usuario = state ['user'].usuario;\r\n        this.user.password = state ['user'].password;\r\n        console.log(this.user);\r\n\r\n      }\r\n\r\n    })\r\n\r\n  }\r\n\r\n  async restablecer(){\r\n    if(this.user.password != this.nuevapass.nueva){\r\n      this.user.password = this.nuevapass.nueva;\r\n      const alert = await this.alertController.create({\r\n        header: 'Contraseña restablecida.',\r\n        message: 'Su contraseña ha sido restablecida.',\r\n        buttons: ['Aceptar'],\r\n      });\r\n      await alert.present();\r\n      this.router.navigate(['home'])\r\n    }else{\r\n      const alert = await this.alertController.create({\r\n        header: 'Error.',\r\n        message: 'Su nueva contraseña no puede ser igual a la anterior.',\r\n        buttons: ['Aceptar'],\r\n      });\r\n      await alert.present();\r\n    }\r\n\r\n    }\r\n}\r\n\r\n\r\n","<ion-header [translucent]=\"true\">\r\n  <ion-back-button></ion-back-button>\r\n  <ion-toolbar>\r\n    <ion-title>restablecerpass</ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content [fullscreen]=\"true\">\r\n  <ion-card>\r\n    <ion-input class=\"input\" [(ngModel)]=\"nuevapass.correo\" label=\"Correo\" labelPlacement=\"floating\"\r\n    placeholder=\"Ingrese su Correo\">\r\n    </ion-input>\r\n    <ion-input   [(ngModel)]=\"nuevapass.nueva\" label=\"Contraseña\" type=\"password\" labelPlacement=\"floating\"\r\n    placeholder=\"Ingrese su nueva Contraseña\"></ion-input>\r\n  </ion-card>\r\n\r\n  <ion-button (click)=\"restablecer()\">Confirmar</ion-button>\r\n\r\n</ion-content>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}